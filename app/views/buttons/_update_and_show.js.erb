$('#buttonDetails').hide();
<%= render 'buttons/button_live_edit', button: @button %>
$('#buttonHeaderOnForm').html("<%= @button.title %>");

var button_title_field = $("#button_title");
var button_speech_phrase = $('#button_speech_phrase');
var button_color = $('.chosen-select');
var button_size = $('#button_size');


var button = $('<%= "#button_#{@button.div_id} h1" %>');
button_title_field.on('keyup', function() {
  var val = $(this).val();
  $('#buttonHeaderOnForm').html(val);
  var button_title = document.getElementById("<%= @button.div_id %>");
  button_title.innerHTML = val;
});

button_title_field.on('focusout', function() {
  var val = $(this).val();
  var original_value = $('#title_value').val();
  if (val !== original_value) {
    $('#button_form').submit();
  }
});

button_speech_phrase.on('focusout', function() {
  var val = $(this).val();
  var original_value = $('#phrase_value').val();
  if (val !== original_value) {
    $('#button_form').submit();
  }
});

button_size.on('change', function() {
  var val = $(this).val();
  var original_value = $('#size_value').val();
  if (val !== original_value) {
    $('#button_form').submit();
  }
});

<%= render 'buttons/set_buttons_color' %>


